{%- extends "basic/layout.html" %}

{%- block csss %}
    {{ super() }}
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"  media="screen,projection"/>
    <style>
        .highlight {
            margin: .5em 0;
            padding: 7px 12px;
            border: solid 1px rgba(51,51,51,0.12);
        }

        body.container {
            max-width: 800px;
        }

        #relbar1 > nav {
            left: 0;
            top: 0;
        }
        #relbar1 > nav > .nav-content > .breadcrumb {
            display: inline-block;
            line-height: 48px;
            vertical-align: middle;
        }
        #relbar1 > nav > .nav-content > .breadcrumb:first-child {
            padding-left: 15px;
        }
        #relbar1 > nav > .nav-content span.material-icons {
            display: inline-block;
            line-height: 48px;
            font-size: 24px;
            vertical-align: inherit;
            position: relative;
            top: -1px;
        }
    </style>
{%- endblock %}

{%- block scripts %}
    {{ super() }}
    <script type="text/javascript">
    //<![CDATA[
        $(function(){
            // set container class for body
            $('.container').removeClass('container')
            $('body').addClass('container')

            // general styles
            var body = $('.body')
            body.find('ul, ol, dl').addClass('collection')
            body.find('li, dd').addClass('collection-item')
            body.find('dl').addClass('with-header')
            body.find('dt').addClass('collection-header')
            body.find('.viewcode-link').html('code').addClass('material-icons secondary-content')
            body.find('.headerlink').html('link').addClass('material-icons secondary-content')

            // styles for sidebar
            var sidebar = $('#sidebar2')
            sidebar.children('.caption').addClass('hide')
            sidebar.children('ul').addClass('side-nav')[0].id = 'side-nav'
            sidebar.find('ul').addClass('collapsible')
            sidebar.find('li > a:first-child').addClass('collapsible-header')
            sidebar.find('li > ul').addClass('collapsible-body').prev('a').click(function(e){e.preventDefault()})
            $('.btn-menu').sideNav()
        })
    //]]>
    </script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
{%- endblock %}

{%- block extrahead %}
    {{ super() }}
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
{%- endblock %}

{%- block sidebar2 %}
    <div id="sidebar2">
        {{ toctree(collapse=False) }}
    </div>
{%- endblock %}

{%- block relbar1 %}
    <div class="navbar-fixed" id="relbar1">
        <nav class="nav-extended">
            <div class="nav-wrapper">
                <ul class="left">
                    <a href="#" class="btn-menu" data-activates="side-nav">
                        <i class="material-icons">menu</i>
                    </a>
                </ul>
                <span class="brand-logo">{{ shorttitle|e }}</span>
                <ul class="right">
                    {%- for rellink in rellinks|reverse %}
                        <li>
                            <a href="{{ pathto(rellink[0]) }}" title="{{ rellink[1]|striptags|e }}" {{ accesskey(rellink[2]) }}>
                                {%- if _('next') == rellink[3] %}
                                    <i class="material-icons">navigate_next</i>
                                {%- elif _('previous') == rellink[3] %}
                                    <i class="material-icons">navigate_before</i>
                                {%- elif _('index') == rellink[3] %}
                                    <i class="material-icons">subject</i>
                                {%- elif _('modules') == rellink[3] %}
                                    <i class="material-icons">view_module</i>
                                {%- else %}
                                    {{ rellink[3] }}
                                {%- endif %}
                            </a>
                        </li>
                    {%- endfor %}
                </ul>
            </div>
            <div class="nav-content col s12">
                <a href="{{ pathto(master_doc) }}" class="breadcrumb">
                    <span class="material-icons">home</span>
                </a>
                {%- for parent in parents %}
                    <a href="{{ parent.link|e }}" {% if loop.last %}{{ accesskey( "U") }}{% endif %} class="breadcrumb">{{ parent.title }}</a>
                {%- endfor %}
                <a href="#" class="breadcrumb">{{ title }}</a>
            </div>
        </nav>
    </div>
{%- endblock %}

{%- block relbar2 %}{% endblock %}
